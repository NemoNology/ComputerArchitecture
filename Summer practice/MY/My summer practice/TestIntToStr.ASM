FORMAT MZ
ORG 0100



Start:
	N DB 24

	MOV	SI, WORD [N]

	CALL	IntToStr

	CALL	Close

;--------------------------------------------------------
; Дальше идут процедуры
;--------------------------------------------------------


; Вывод строки в консоль
; Адрес строки должен находиться в регистре SI


; Вывод строки посимвольно
; Адрес 1-ого символа должен находиться в регистре SI
PrintStrByChars:

	MOV	AH, 02H
	MOV	DX, 0
	MOV	DL, BYTE [SI]
	INT	21H

	INC	WORD SI

	CMP	BYTE [SI], '$'
	JNE	PrintStrByChars

	RET


; Перевод целого числа в строку
; Число должно находиться в регистре SI
; Результирующая строка будет в регистре
; Число должно быть целым
IntToStr:

	MOV	BL, 10	    ; Инициализируем делитель
	MOV	DL, [SI]    ; Загружаем знаечение числа



	IntToDigits:

		MOV	AX, [SI]    ; Т.к. Делимое должно находиться в AX - переносим
		DIV	BL	    ; AX = AX / BL; DX - Остаток



	RET


; Закрытие программы с ожиданием нажатия любой кнопки
Close:

	; Ожидание нажатия кнопки
	MOV AH, 01H
	INT 21H

	; Закрытие консоли
	MOV AH, 4CH
	INT 21H

	RET